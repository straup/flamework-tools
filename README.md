# flamework-tools

These are just a variety of shell scripts and tools I've written for myself to
automate the setting up of a flamework-derived project (using my own fork of the
project).

They will probably work for you but they've been written primarily for me.

They are specific to [the whosonfirst branch](https://github.com/whosonfirst/flamework) of Flamework which, as of this writing, does not track 1:1 with the [exflickr](https://github.com/exflickr/flamework) branch.
 
## Utilities

### make-project.sh

Fetch all the dependencies and do a bare-bones setup for a plain vanilla Flamework project to be hosted on an actual server:

```
$> ./flamework-tools/bin/make-project.sh /path/to/your/project
```

### make-project-api.sh 

This is just like the `make-project` script but additionally it will fetch and install the [flamework-api](https://github.com/whosonfirst/flamework-api) package for adding handy API dispatch and key/token management.

## What's happening under the hood

_Please write me_

## Project-specific details

_As of this writing the following tools and are targeted for a modern Ubuntu distribution. There is hopefully nothing so complicated as to prevent them being run on another platform but one thing at a time..._

### Dependencies

The `make-project` tools *do not* try to set up server dependencies. To do that you will need to run the `setup.sh` script (which is copied in to your project by the `make-project.sh` tool). For example:

```
$> cd /path/to/your/project
$> ./ubuntu/setup.sh
```

### Database configuration

To configure the MySQL database used by your project you run the `setup-db.sh` script. For example:

```
$> cd /path/to/your/project
$> ./ubuntu/setup-db.sh
```

_As of this writing the `setup-db.sh` does not yet update your project's config (and secrets) files with new database passwords._

### TLS certificates

TLS certificates... yeah, that. `flamework-tools` will copy three scripts in to your project to install Richard Crowley's [certified]() package for running a local certificate authority (CA), set up a basic CA and issue a key and certificate for your project. For example:

```
$> cd /path/to/your/project
$> ./ubuntu/setup-certified.sh
$> ./ubuntu/setup-certified-ca.sh
$> ./ubuntu/setup-certified-certs.sh
```

_Note that the key and certificate generated by the `setup-certified-certs.sh` are assumed in the example Apache config file that is included in your project's `apache` directory (but not installed by default)._

